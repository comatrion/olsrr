<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Best subsets regression — ols_step_best_subset • olsrr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Best subsets regression — ols_step_best_subset" />
<meta property="og:description" content="Select the subset of predictors that do the best at meeting some
well-defined objective criterion, such as having the largest R2 value or the
smallest MSE, Mallow's Cp or AIC. The default metric used for selecting the
model is R2 but the user can choose any of the other available metrics." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">olsrr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Guides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/intro.html">Intro</a>
    </li>
    <li>
      <a href="../articles/residual_diagnostics.html">Residual Diagnostics</a>
    </li>
    <li>
      <a href="../articles/influence_measures.html">Measures of Influence</a>
    </li>
    <li>
      <a href="../articles/heteroskedasticity.html">Heteroskedasticity</a>
    </li>
    <li>
      <a href="../articles/regression_diagnostics.html">Collinearity Diagnostics</a>
    </li>
    <li>
      <a href="../articles/variable_selection.html">Variable Selection</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Reference
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../reference/index.html">Functions</a>
    </li>
    <li>
      <a href="../articles/reference-media.html">Media</a>
    </li>
    <li>
      <a href="../news/index.html">News</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rsquaredacademy/olsrr">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Best subsets regression</h1>
    <small class="dont-index">Source: <a href='https://github.com/rsquaredacademy/olsrr/blob/master/R/ols-best-subsets-regression.R'><code>R/ols-best-subsets-regression.R</code></a></small>
    <div class="hidden name"><code>ols_step_best_subset.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Select the subset of predictors that do the best at meeting some
well-defined objective criterion, such as having the largest R2 value or the
smallest MSE, Mallow's Cp or AIC. The default metric used for selecting the
model is R2 but the user can choose any of the other available metrics.</p>
    </div>

    <pre class="usage"><span class='fu'>ols_step_best_subset</span>(
  <span class='no'>model</span>,
  <span class='kw'>metric</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"rsquare"</span>, <span class='st'>"adjr"</span>, <span class='st'>"predrsq"</span>, <span class='st'>"cp"</span>, <span class='st'>"aic"</span>, <span class='st'>"sbic"</span>, <span class='st'>"sbc"</span>, <span class='st'>"msep"</span>, <span class='st'>"fpe"</span>,
    <span class='st'>"apc"</span>, <span class='st'>"hsp"</span>),
  <span class='no'>...</span>
)

<span class='co'># S3 method for ols_step_best_subset</span>
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='no'>x</span>, <span class='kw'>model</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>print_plot</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>model</th>
      <td><p>An object of class <code>lm</code>.</p></td>
    </tr>
    <tr>
      <th>metric</th>
      <td><p>Metric to select model.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other inputs.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>An object of class <code>ols_step_best_subset</code>.</p></td>
    </tr>
    <tr>
      <th>print_plot</th>
      <td><p>logical; if <code>TRUE</code>, prints the plot else returns a plot object.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>ols_step_best_subset</code> returns an object of class <code>"ols_step_best_subset"</code>.
An object of class <code>"ols_step_best_subset"</code> is a data frame containing the
following components:</p>
<dt>n</dt><dd><p>model number</p></dd>
<dt>predictors</dt><dd><p>predictors in the model</p></dd>
<dt>rsquare</dt><dd><p>rsquare of the model</p></dd>
<dt>adjr</dt><dd><p>adjusted rsquare of the model</p></dd>
<dt>predrsq</dt><dd><p>predicted rsquare of the model</p></dd>
<dt>cp</dt><dd><p>mallow's Cp</p></dd>
<dt>aic</dt><dd><p>akaike information criteria</p></dd>
<dt>sbic</dt><dd><p>sawa bayesian information criteria</p></dd>
<dt>sbc</dt><dd><p>schwarz bayes information criteria</p></dd>
<dt>gmsep</dt><dd><p>estimated MSE of prediction, assuming multivariate normality</p></dd>
<dt>jp</dt><dd><p>final prediction error</p></dd>
<dt>pc</dt><dd><p>amemiya prediction criteria</p></dd>
<dt>sp</dt><dd><p>hocking's Sp</p></dd>

    <h2 class="hasAnchor" id="deprecated-function"><a class="anchor" href="#deprecated-function"></a>Deprecated Function</h2>

    

<p><code>ols_best_subset()</code> has been deprecated. Instead use <code>ols_step_best_subset()</code>.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Kutner, MH, Nachtscheim CJ, Neter J and Li W., 2004, Applied Linear Statistical Models (5th edition).
Chicago, IL., McGraw Hill/Irwin.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other variable selection procedures: 
<code><a href='ols_step_all_possible.html'>ols_step_all_possible</a>()</code>,
<code><a href='ols_step_backward_aic.html'>ols_step_backward_aic</a>()</code>,
<code><a href='ols_step_backward_p.html'>ols_step_backward_p</a>()</code>,
<code><a href='ols_step_both_aic.html'>ols_step_both_aic</a>()</code>,
<code><a href='ols_step_forward_aic.html'>ols_step_forward_aic</a>()</code>,
<code><a href='ols_step_forward_p.html'>ols_step_forward_p</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>model</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>disp</span> + <span class='no'>hp</span> + <span class='no'>wt</span> + <span class='no'>qsec</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)
<span class='fu'>ols_step_best_subset</span>(<span class='no'>model</span>)</div><div class='output co'>#&gt;    Best Subsets Regression    
#&gt; ------------------------------
#&gt; Model Index    Predictors
#&gt; ------------------------------
#&gt;      1         wt              
#&gt;      2         hp wt           
#&gt;      3         hp wt qsec      
#&gt;      4         disp hp wt qsec 
#&gt; ------------------------------
#&gt; 
#&gt;                                                    Subsets Regression Summary                                                    
#&gt; ---------------------------------------------------------------------------------------------------------------------------------
#&gt;                        Adj.        Pred                                                                                           
#&gt; Model    R-Square    R-Square    R-Square     C(p)        AIC        SBIC        SBC         MSEP       FPE       HSP       APC  
#&gt; ---------------------------------------------------------------------------------------------------------------------------------
#&gt;   1        0.7528      0.7446      0.7087    12.4809    166.0294    74.2916    170.4266    296.9167    9.8572    0.3199    0.2801 
#&gt;   2        0.8268      0.8148      0.7811     2.3690    156.6523    66.5755    162.5153    215.5104    7.3563    0.2402    0.2091 
#&gt;   3        0.8348      0.8171       0.782     3.0617    157.1426    67.7238    164.4713    213.1929    7.4756    0.2461    0.2124 
#&gt;   4        0.8351      0.8107       0.771     5.0000    159.0696    70.0408    167.8640    220.8882    7.9497    0.2644    0.2259 
#&gt; ---------------------------------------------------------------------------------------------------------------------------------
#&gt; AIC: Akaike Information Criteria 
#&gt;  SBIC: Sawa's Bayesian Information Criteria 
#&gt;  SBC: Schwarz Bayesian Criteria 
#&gt;  MSEP: Estimated error of prediction, assuming multivariate normality 
#&gt;  FPE: Final Prediction Error 
#&gt;  HSP: Hocking's Sp 
#&gt;  APC: Amemiya Prediction Criteria 
#&gt; </div><div class='input'><span class='fu'>ols_step_best_subset</span>(<span class='no'>model</span>, <span class='kw'>metric</span> <span class='kw'>=</span> <span class='st'>"adjr"</span>)</div><div class='output co'>#&gt;    Best Subsets Regression    
#&gt; ------------------------------
#&gt; Model Index    Predictors
#&gt; ------------------------------
#&gt;      1         wt              
#&gt;      2         hp wt           
#&gt;      3         hp wt qsec      
#&gt;      4         disp hp wt qsec 
#&gt; ------------------------------
#&gt; 
#&gt;                                                    Subsets Regression Summary                                                    
#&gt; ---------------------------------------------------------------------------------------------------------------------------------
#&gt;                        Adj.        Pred                                                                                           
#&gt; Model    R-Square    R-Square    R-Square     C(p)        AIC        SBIC        SBC         MSEP       FPE       HSP       APC  
#&gt; ---------------------------------------------------------------------------------------------------------------------------------
#&gt;   1        0.7528      0.7446      0.7087    12.4809    166.0294    74.2916    170.4266    296.9167    9.8572    0.3199    0.2801 
#&gt;   2        0.8268      0.8148      0.7811     2.3690    156.6523    66.5755    162.5153    215.5104    7.3563    0.2402    0.2091 
#&gt;   3        0.8348      0.8171       0.782     3.0617    157.1426    67.7238    164.4713    213.1929    7.4756    0.2461    0.2124 
#&gt;   4        0.8351      0.8107       0.771     5.0000    159.0696    70.0408    167.8640    220.8882    7.9497    0.2644    0.2259 
#&gt; ---------------------------------------------------------------------------------------------------------------------------------
#&gt; AIC: Akaike Information Criteria 
#&gt;  SBIC: Sawa's Bayesian Information Criteria 
#&gt;  SBC: Schwarz Bayesian Criteria 
#&gt;  MSEP: Estimated error of prediction, assuming multivariate normality 
#&gt;  FPE: Final Prediction Error 
#&gt;  HSP: Hocking's Sp 
#&gt;  APC: Amemiya Prediction Criteria 
#&gt; </div><div class='input'><span class='fu'>ols_step_best_subset</span>(<span class='no'>model</span>, <span class='kw'>metric</span> <span class='kw'>=</span> <span class='st'>"cp"</span>)</div><div class='output co'>#&gt;    Best Subsets Regression    
#&gt; ------------------------------
#&gt; Model Index    Predictors
#&gt; ------------------------------
#&gt;      1         wt              
#&gt;      2         hp wt           
#&gt;      3         hp wt qsec      
#&gt;      4         disp hp wt qsec 
#&gt; ------------------------------
#&gt; 
#&gt;                                                    Subsets Regression Summary                                                    
#&gt; ---------------------------------------------------------------------------------------------------------------------------------
#&gt;                        Adj.        Pred                                                                                           
#&gt; Model    R-Square    R-Square    R-Square     C(p)        AIC        SBIC        SBC         MSEP       FPE       HSP       APC  
#&gt; ---------------------------------------------------------------------------------------------------------------------------------
#&gt;   1        0.7528      0.7446      0.7087    12.4809    166.0294    74.2916    170.4266    296.9167    9.8572    0.3199    0.2801 
#&gt;   2        0.8268      0.8148      0.7811     2.3690    156.6523    66.5755    162.5153    215.5104    7.3563    0.2402    0.2091 
#&gt;   3        0.8348      0.8171       0.782     3.0617    157.1426    67.7238    164.4713    213.1929    7.4756    0.2461    0.2124 
#&gt;   4        0.8351      0.8107       0.771     5.0000    159.0696    70.0408    167.8640    220.8882    7.9497    0.2644    0.2259 
#&gt; ---------------------------------------------------------------------------------------------------------------------------------
#&gt; AIC: Akaike Information Criteria 
#&gt;  SBIC: Sawa's Bayesian Information Criteria 
#&gt;  SBC: Schwarz Bayesian Criteria 
#&gt;  MSEP: Estimated error of prediction, assuming multivariate normality 
#&gt;  FPE: Final Prediction Error 
#&gt;  HSP: Hocking's Sp 
#&gt;  APC: Amemiya Prediction Criteria 
#&gt; </div><div class='input'>
<span class='co'># plot</span>
<span class='no'>model</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>disp</span> + <span class='no'>hp</span> + <span class='no'>wt</span> + <span class='no'>qsec</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)
<span class='no'>k</span> <span class='kw'>&lt;-</span> <span class='fu'>ols_step_best_subset</span>(<span class='no'>model</span>)
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='no'>k</span>)</div><div class='input'>
</div><div class='img'><img src='ols_step_best_subset-1.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.aravindhebbali.com'>Aravind Hebbali</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


